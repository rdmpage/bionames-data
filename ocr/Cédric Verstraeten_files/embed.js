var DISQUS=function(a){var b=a.DISQUS||{};b.AssertionError=function(a){this.message=a},b.AssertionError.prototype.toString=function(){return"Assertion Error: "+(this.message||"[no message]")},b.assert=function(c,d,e){if(!c){if(!e)throw new b.AssertionError(d);a.console&&a.console.log("DISQUS assertion failed: "+d)}};var c=[];return b.define=function(d,e){"function"==typeof d&&(e=d,d="");for(var f=d.split("."),g=f.shift(),h=b,i=(e||function(){return{}}).call({overwrites:function(a){return a.__overwrites__=!0,a}},a);g;)h=h[g]?h[g]:h[g]={},g=f.shift();for(var j in i)i.hasOwnProperty(j)&&(!i.__overwrites__&&null!==h[j]&&b.assert(!h.hasOwnProperty(j),"Unsafe attempt to redefine existing module: "+j,!0),h[j]=i[j],c.push(function(a,b){return function(){delete a[b]}}(h,j)));return h},b.use=function(a){return b.define(a)},b.cleanup=function(){for(var a=0;a<c.length;a++)c[a]()},b}(window);DISQUS.define(function(a,b){var c=a.DISQUS,d=a.document,e=d.getElementsByTagName("head")[0]||d.body,f={running:!1,timer:null,queue:[]},g=0;c.getUid=function(a){var b=++g+"";return a?a+b:b},c.defer=function(a,b){function c(){var a=f.queue;0===a.length&&(f.running=!1,clearInterval(f.timer));for(var b,c=0;b=a[c];c++)b[0]()&&(a.splice(c--,1),b[1]())}f.queue.push([a,b]),c(),f.running||(f.running=!0,f.timer=setInterval(c,100))},c.isOwn=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},c.isString=function(a){return"[object String]"===Object.prototype.toString.call(a)},c.each=function(a,b){var d=a.length,e=Array.prototype.forEach;if(isNaN(d))for(var f in a)c.isOwn(a,f)&&b(a[f],f,a);else if(e)e.call(a,b);else for(e=0;d>e;e++)b(a[e],e,a)},c.extend=function(a){return c.each(Array.prototype.slice.call(arguments,1),function(b){for(var c in b)a[c]=b[c]}),a},c.serializeArgs=function(a){var d=[];return c.each(a,function(a,c){a!==b&&d.push(c+(null!==a?"="+encodeURIComponent(a):""))}),d.join("&")},c.serialize=function(a,b,d){return b&&(a+=~a.indexOf("?")?"&"==a.charAt(a.length-1)?"":"&":"?",a+=c.serializeArgs(b)),d?(b={},b[(new Date).getTime()]=null,c.serialize(a,b)):(b=a.length,"&"==a.charAt(b-1)?a.slice(0,b-1):a)};var h,i;"addEventListener"in a?(h=function(a,b,c){a.addEventListener(b,c,!1)},i=function(a,b,c){a.removeEventListener(b,c,!1)}):(h=function(a,b,c){a.attachEvent("on"+b,c)},i=function(a,b,c){a.detachEvent("on"+b,c)}),c.require=function(b,f,g,j,k){function l(b){b=b||a.event,b.target||(b.target=b.srcElement),("load"==b.type||/^(complete|loaded)$/.test(b.target.readyState))&&(j&&j(),o&&clearTimeout(o),i(b.target,n,l))}var m=d.createElement("script"),n=m.addEventListener?"load":"readystatechange",o=null;return m.src=c.serialize(b,f,g),m.async=!0,m.charset="UTF-8",(j||k)&&h(m,n,l),k&&(o=setTimeout(function(){k()},2e4)),e.appendChild(m),c},c.requireStylesheet=function(a,b,f){var g=d.createElement("link");return g.rel="stylesheet",g.type="text/css",g.href=c.serialize(a,b,f),e.appendChild(g),c},c.requireSet=function(a,b,d){var e=a.length;c.each(a,function(a){c.require(a,{},b,function(){0===--e&&d()})})},c.injectCss=function(b){var c=d.createElement("style");c.setAttribute("type","text/css"),b=b.replace(/\}/g,"}\n"),a.location.href.match(/^https/)&&(b=b.replace(/http:\/\//g,"https://")),c.styleSheet?c.styleSheet.cssText=b:c.appendChild(d.createTextNode(b)),e.appendChild(c)},c.isString=function(a){return"[object String]"===Object.prototype.toString.call(a)}}),DISQUS.define("JSON",function(){function f(a){return 10>a?"0"+a:a}function h(a){return k.lastIndex=0,k.test(a)?'"'+a.replace(k,function(a){var b=j[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function e(c,f){var g,j,k,l,m,n=b,o=f[c];switch(o&&"object"==typeof o&&"function"==typeof o.toJSON&&!d&&(o=o.toJSON(c)),"function"==typeof i&&(o=i.call(f,c,o)),typeof o){case"string":return h(o);case"number":return isFinite(o)?String(o):"null";case"boolean":case"null":return String(o);case"object":if(!o)return"null";if(b+=a,m=[],"[object Array]"===Object.prototype.toString.apply(o)){for(l=o.length,g=0;l>g;g+=1)m[g]=e(g,o)||"null";return k=0===m.length?"[]":b?"[\n"+b+m.join(",\n"+b)+"\n"+n+"]":"["+m.join(",")+"]",b=n,k}if(i&&"object"==typeof i)for(l=i.length,g=0;l>g;g+=1)j=i[g],"string"==typeof j&&(k=e(j,o))&&m.push(h(j)+(b?": ":":")+k);else for(j in o)Object.hasOwnProperty.call(o,j)&&(k=e(j,o))&&m.push(h(j)+(b?": ":":")+k);return k=0===m.length?"{}":b?"{\n"+b+m.join(",\n"+b)+"\n"+n+"}":"{"+m.join(",")+"}",b=n,k}}var c={},d=!1;"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var g=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,k=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,b,a,j={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},i;c.stringify=function(c,d,f){var g;if(a=b="","number"==typeof f)for(g=0;f>g;g+=1)a+=" ";else"string"==typeof f&&(a=f);if((i=d)&&"function"!=typeof d&&("object"!=typeof d||"number"!=typeof d.length))throw Error("JSON.stringify");return e("",{"":c})},c.parse=function(a,b){function j(a,c){var d,e,f=a[c];if(f&&"object"==typeof f)for(d in f)Object.hasOwnProperty.call(f,d)&&(e=j(f,d),void 0!==e?f[d]=e:delete f[d]);return b.call(a,c,f)}var i,a=String(a);if(g.lastIndex=0,g.test(a)&&(a=a.replace(g,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return i=eval("("+a+")"),"function"==typeof b?j({"":i},""):i;throw new SyntaxError("JSON.parse")};var l={a:[1,2,3]},n,m;return Object.toJSON&&'{"a":[1,2,3]}'===Object.toJSON(l).replace(/\s/g,"")&&(n=Object.toJSON),"function"==typeof String.prototype.evalJSON&&(l='{"a":[1,2,3]}'.evalJSON(),l.a&&3===l.a.length&&3===l.a[2]&&(m=function(a){return a.evalJSON()})),function(){var a=[1,2,3];"function"==typeof a.toJSON&&(a=a.toJSON(),d=!(a&&3===a.length&&3===a[2]))}(),!d&&n&&m?{stringify:n,parse:m}:{stringify:c.stringify,parse:c.parse}}),DISQUS.define(function(){function a(a){for(h=1;a=d.shift();)a()}var b,c,d=[],e=document,f=e.documentElement,g=f.doScroll,h=/^loade|c/.test(e.readyState);return e.addEventListener&&e.addEventListener("DOMContentLoaded",b=function(){e.removeEventListener("DOMContentLoaded",b,!1),a()},!1),g&&e.attachEvent("onreadystatechange",b=function(){/^c/.test(e.readyState)&&(e.detachEvent("onreadystatechange",b),a())}),c=g?function(a){self!=top?h?a():d.push(a):function(){try{f.doScroll("left")}catch(b){return setTimeout(function(){c(a)},50)}a()}()}:function(a){h?a():d.push(a)},{domready:c}}),DISQUS.define("Events",function(){var a=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}},b=DISQUS.isOwn,c=Object.keys||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var c,d=[];for(c in a)b(a,c)&&(d[d.length]=c);return d},d=[].slice,e={on:function(a,b,c){return g(this,"on",a,[b,c])&&b?(this._events=this._events||{},(this._events[a]||(this._events[a]=[])).push({callback:b,context:c,ctx:c||this}),this):this},once:function(b,c,d){if(!g(this,"once",b,[c,d])||!c)return this;var e=this,f=a(function(){e.off(b,f),c.apply(this,arguments)});return f._callback=c,this.on(b,f,d)},off:function(a,b,d){var e,f,h,i,j,k,l,m;if(!this._events||!g(this,"off",a,[b,d]))return this;if(!a&&!b&&!d)return this._events={},this;for(i=a?[a]:c(this._events),j=0,k=i.length;k>j;j++)if(a=i[j],h=this._events[a]){if(this._events[a]=e=[],b||d)for(l=0,m=h.length;m>l;l++)f=h[l],(b&&b!==f.callback&&b!==f.callback._callback||d&&d!==f.context)&&e.push(f);e.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var b=d.call(arguments,1);if(!g(this,"trigger",a,b))return this;var c=this._events[a],e=this._events.all;return c&&h(c,b),e&&h(e,arguments),this},stopListening:function(a,b,c){var d=this._listeners;if(!d)return this;var e=!b&&!c;"object"==typeof b&&(c=this),a&&((d={})[a._listenerId]=a);for(var f in d)d[f].off(b,c,this),e&&delete this._listeners[f];return this}},f=/\s+/,g=function(a,b,c,d){if(!c)return!0;if("object"==typeof c){for(var e in c)a[b].apply(a,[e,c[e]].concat(d));return!1}if(f.test(c)){c=c.split(f),e=0;for(var g=c.length;g>e;e++)a[b].apply(a,[c[e]].concat(d));return!1}return!0},h=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],h=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);break;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f);break;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g);break;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g,h);break;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b)}};return DISQUS.each({listenTo:"on",listenToOnce:"once"},function(a,b){e[b]=function(b,c,d){var e=this._listeners||(this._listeners={}),f=b._listenerId||(b._listenerId=DISQUS.getUid("l"));return e[f]=b,"object"==typeof c&&(d=this),b[a](c,d,this),this}}),e.bind=e.on,e.unbind=e.off,e}),DISQUS.define(function(a){function b(){throw Error(Array.prototype.join.call(arguments," "))}function c(a,b,c){if(a.addEventListener)a.addEventListener(b,c,!1);else{if(!a.attachEvent)throw Error("No event support.");a.attachEvent("on"+b,c)}}function d(a,b,c){c||(c=0);var d,e,f,g,h=0,i=function(){h=new Date,f=null,g=a.apply(d,e)};return function(){var j=new Date,k=b-(j-h);return d=this,e=arguments,0>=k?(clearTimeout(f),f=null,h=j,g=a.apply(d,e)):f||(f=setTimeout(i,k+c)),g}}var e=a.document,f=DISQUS.use("JSON"),g={};if(!DISQUS.version||"2"!==DISQUS.version()){var h=DISQUS.isOwn;c(a,"message",function(a){var c,d;for(d in g)if(h(g,d)&&a.origin==g[d].origin){c=!0;break}if(c)switch(c=f.parse(a.data),(d=g[c.sender])||b("Message from our server but with invalid sender UID:",c.sender),c.scope){case"host":d.trigger(c.name,c.data);break;default:b("Message",c.scope,"not supported. Sender:",a.origin)}},!1),c(a,"hashchange",function(){DISQUS.trigger("window.hashchange",{hash:a.location.hash})},!1),c(a,"resize",function(){DISQUS.trigger("window.resize")},!1),c(a,"scroll",d(function(){DISQUS.trigger("window.scroll")},250,50)),c(e,"click",function(){DISQUS.trigger("window.click")});var i=function(a){a=a||{},this.state=i.INIT,this.uid=a.uid||DISQUS.getUid(),this.origin=a.origin,this.target=a.target,this.window=null,g[this.uid]=this,this.on("ready",function(){this.state=i.READY},this),this.on("die",function(){this.state=i.KILLED},this)};DISQUS.extend(i,{INIT:0,READY:1,KILLED:2}),DISQUS.extend(i.prototype,DISQUS.Events),i.prototype.sendMessage=function(a,b){var c=function(a,b,c){return function(){DISQUS.postMessage(c.window,a,b)}}(f.stringify({scope:"client",name:a,data:b}),this.origin,this);this.isReady()?c():this.on("ready",c)},i.prototype.hide=function(){},i.prototype.show=function(){},i.prototype.url=function(){return DISQUS.serialize(this.target,{disqus_version:"1379107368"})+"#"+this.uid},i.prototype.destroy=function(){this.state=i.KILLED,this.off()},i.prototype.isReady=function(){return this.state===i.READY},i.prototype.isKilled=function(){return this.state===i.KILLED};var j=function(a){i.call(this,a),this.windowName=a.windowName};DISQUS.extend(j.prototype,i.prototype),j.prototype.load=function(){this.window=a.open("",this.windowName||"_blank"),this.window.location=this.url()},j.prototype.isKilled=function(){return i.prototype.isKilled()||this.window.closed};var k=function(a){i.call(this,a),this.styles=a.styles||{},this.role=a.role||"application",this.container=a.container,this.elem=null};DISQUS.extend(k.prototype,i.prototype),k.prototype.load=function(){var a=this.elem=e.createElement("iframe");a.setAttribute("id","dsq"+this.uid),a.setAttribute("data-disqus-uid",this.uid),a.setAttribute("allowTransparency","true"),a.setAttribute("frameBorder","0"),this.role&&a.setAttribute("role",this.role),this.setInlineStyle(this.styles)},k.prototype.getOffset=function(a){for(var a=a||e.documentElement,b=this.elem,c=b,d=0,f=0;c&&c!==a;)d+=c.offsetLeft,f+=c.offsetTop,c=c.offsetParent;return{top:f,left:d,height:b.offsetHeight,width:b.offsetWidth}},k.prototype.setInlineStyle=function(a,b){var c={};DISQUS.isString(a)?c[a]=b:c=a;var d=this.elem.style;return"setProperty"in d?void DISQUS.each(c,function(a,b){d.setProperty(b,a,"important")}):this._setInlineStyleCompat(c)},k.prototype._setInlineStyleCompat=function(a){this._stylesCache=this._stylesCache||{},DISQUS.extend(this._stylesCache,a);var b=[];DISQUS.each(this._stylesCache,function(a,c){b.push(c+":"+a+" !important")}),this.elem.style.cssText=b.join(";")},k.prototype.removeInlineStyle=function(a){var b=this.elem.style;return"removeProperty"in b?void b.removeProperty(a):this._removeInlineStyleCompat(a)},k.prototype._removeInlineStyleCompat=function(a){this._stylesCache&&(delete this._stylesCache[a],this._setInlineStyleCompat({}))},k.prototype.hide=function(){this.setInlineStyle("display","none")},k.prototype.show=function(){this.removeInlineStyle("display")},k.prototype.destroy=function(){i.prototype.destroy.call(this),this.elem&&this.elem.parentNode&&this.elem.parentNode.removeChild(this.elem)};var l=function(a){k.call(this,a),this.styles=DISQUS.extend({width:"100%",border:"none",overflow:"hidden",height:"0"},a.styles||{})};DISQUS.extend(l.prototype,k.prototype),l.prototype.load=function(a){var b=this;k.prototype.load.call(b);var d=b.elem;d.setAttribute("width","100%"),d.setAttribute("src",this.url()),c(d,"load",function(){b.window=d.contentWindow,a&&a()}),(DISQUS.isString(this.container)?e.getElementById(this.container)||e.body:this.container).appendChild(d)};var m=function(a){k.call(this,a),this.contents=a.contents,this.styles=DISQUS.extend({width:"100%",border:"none",overflow:"hidden"},a.styles||{})};DISQUS.extend(m.prototype,k.prototype),m.prototype.load=function(){k.prototype.load.call(this);var a=this.elem;a.setAttribute("scrolling","no"),(DISQUS.isString(this.container)?e.getElementById(this.container)||e.body:this.container).appendChild(a),this.window=a.contentWindow;try{this.window.document.open()}catch(b){a.src="javascript:var d=document.open();d.domain='"+e.domain+"';void(0);"}this.document=this.window.document,this.document.write(this.contents),this.document.close(),(a=this.document.body)&&(a=a.offsetHeight+"px",this.setInlineStyle({height:a,minHeight:a,maxHeight:a}))},m.prototype.show=function(){this.setInlineStyle("display","block")},m.prototype.click=function(a){c(this.document.body,"click",function(b){a(b)})};var n=DISQUS.extend({},DISQUS.Events);return{log:function(a){var b=e.getElementById("messages");if(b){var c=e.createElement("p");c.innerHTML=a,b.appendChild(c)}},version:function(){return"2"},on:n.on,off:n.off,trigger:n.trigger,throttle:d,addEvent:c,postMessage:function(a,b,c){a.postMessage(b,c)},WindowBase:i,Popup:j,Iframe:k,Channel:l,Sandbox:m}}}),DISQUS.define("next.host.utils",function(a,b){function c(a){if(!a||"embed.js"!==a.substring(a.length-8))return null;for(var b,c=[/(https?:)?\/\/(www\.)?disqus\.com\/forums\/([\w_\-]+)/i,/(https?:)?\/\/(www\.)?([\w_\-]+)\.disqus\.com/i,/(https?:)?\/\/(www\.)?dev\.disqus\.org\/forums\/([\w_\-]+)/i,/(https?:)?\/\/(www\.)?([\w_\-]+)\.dev\.disqus\.org/i],d=c.length,e=0;d>e;e++)if((b=a.match(c[e]))&&b.length&&4===b.length)return b[3];return null}function d(b,c,e){var f,e=e||c;return b===h?"":(a.getComputedStyle?f=h.defaultView.getComputedStyle(b,null).getPropertyValue(c):b.currentStyle&&(f=b.currentStyle[c]?b.currentStyle[c]:b.currentStyle[e]),"transparent"==f||""===f||"rgba(0, 0, 0, 0)"==f?d(b.parentNode,c,e):f||null)}function e(a){function b(a){return a=Number(a).toString(16),1==a.length?"0"+a:a}if("#"===a.substr(0,1))return a;var c=/.*?rgb\((\d+),\s*(\d+),\s*(\d+)\)/.exec(a);if(!c||4!==c.length)return"";var a=b(c[1]),d=b(c[2]),c=b(c[3]);return"#"+a+d+c}function f(a,b,c,e){DISQUS.isString(b)&&(b=h.createElement(b));var f=null;return b.style.visibility="hidden",a.appendChild(b),f=d(b,c,e),a.removeChild(b),f}function g(a){return a.toLowerCase().replace(/^\s+|\s+$/g,"").replace(/['"]/g,"")}var h=a.document;return{getShortnameFromUrl:c,getForum:function(a,b){var d,e=a.getElementsByTagName("script"),f=e.length,b=b||c;for(f-=1;f>=0;f--)if(d=e[f],d=d.getAttribute?d.getAttribute("src"):d.src,d=b(d),null!==d)return d.toLowerCase();return null},isSSL:function(a){return"https:"===a.toLowerCase()},guessThreadTitle:function(){for(var a=h.getElementsByTagName("h1"),c=h.title,d=c.length,e=c,f=.6,g=0;g<a.length;g++)(function(a){var g,a=a.textContent||a.innerText;if(null!==a&&a!==b){g=0;for(var h=Array(c.length),i=0;i<=c.length;i++){h[i]=Array(a.length);for(var j=0;j<=a.length;j++)h[i][j]=0}for(i=0;i<c.length;i++)for(j=0;j<a.length;j++)c[i]==a[j]&&(h[i+1][j+1]=h[i][j]+1,h[i+1][j+1]>g&&(g=h[i+1][j+1]));g/=d,g>f&&(f=g,e=a)}})(a[g]);return e},getContrastYIQ:function(a){a.match("^rgb")&&(a=e(a).substr(1));var b=parseInt(a.substr(0,2),16),c=parseInt(a.substr(2,2),16),a=parseInt(a.substr(4,2),16);return(299*b+587*c+114*a)/1e3},colorToHex:e,getElementStyle:f,getAnchorColor:function(a){var b=h.createElement("a");return b.href=+new Date,f(a,b,"color")},normalizeFontValue:g,isSerif:function(a){for(var b,a=f(a,"span","font-family","fontFamily").split(","),c={courier:1,times:1,"times new roman":1,georgia:1,palatino:1,serif:1},d=0;d<a.length;d++)if(b=g(a[d]),c.hasOwnProperty(b))return!0;return!1},getBrowserSupport:function(a){return a.postMessage?a.JSON?0:"Microsoft Internet Explorer"===a.navigator.appName?2:1:1},getPermalink:function(){var b=a.location.hash;return(b=b&&b.match(/comment\-([0-9]+)/))&&b[1]},isMobile:function(a){return/Mobi/.test(a.navigator.userAgent)},logStat:function(a){(new Image).src=DISQUS.serialize("//juggler.services.disqus.com/stat.gif",{event:a})},getComputedStyle:function(b,c,d){return a.getComputedStyle?h.defaultView.getComputedStyle(b,null).getPropertyValue(c):b.currentStyle?b.currentStyle[c]?b.currentStyle[c]:b.currentStyle[d]:void 0}}}),DISQUS.define("next.host.app",function(a){var b=DISQUS.isOwn,c=DISQUS.extend,d={getRegistry:function(){var a=this._registry;return a?a:this._registry={}},register:function(a){this.getRegistry()[a.uid]=a},unregister:function(a){delete this.getRegistry()[a.uid]},listByKey:function(){return this.getRegistry()},list:function(){var a,c=this.getRegistry(),d=[];for(a in c)b(c,a)&&d.push(c[a]);return d},get:function(a){var c=this.getRegistry();return b(c,a)?c[a]:null}},e=function(a){var b=this.constructor;this.uid=DISQUS.getUid(),b.register&&b.register(this),this.settings=a||{},a=[],b=this;do a.unshift(b),b=b.constructor.__super__;while(b);for(var c=0,d=a.length;d>c;c++)b=a[c],b.events&&this.on(b.events,this),b.onceEvents&&this.once(b.onceEvents,this)};c(e.prototype,DISQUS.Events),e.prototype.destroy=function(){var a=this.constructor;this.off(),this.stopListening(),a.unregister&&a.unregister(this)},e.extend=function(a,d){var e,f=this;e=a&&b(a,"constructor")?a.constructor:function(){return f.apply(this,arguments)},c(e,f,d);var g=function(){this.constructor=e};return g.prototype=f.prototype,e.prototype=new g,a&&c(e.prototype,a),e.__super__=f.prototype,e};var f=e.extend({frame:null,urls:null,state:null,origins:{insecure:"http://disqus.com",secure:"https://disqus.com"},getUrl:function(){return this.settings.useSSL?this.urls.secure:this.urls.insecure},getFrame:function(){var a=this.settings,b={target:this.getUrl(),origin:a.useSSL?this.origins.secure:this.origins.insecure,uid:this.uid};return a.windowName?b.windowName=a.windowName:b.container=this.settings.container||document.body,this.getFrameSettings&&(b=this.getFrameSettings(b)),new(b.windowName?DISQUS.Popup:DISQUS.Channel)(b)},setState:function(a){var b=this.constructor;return a in b.states?(this.state=b.states[a],void 0):!1},init:function(){var a,b=this;b.setState("INIT"),b.trigger("beforeInit"),b.frame=a=this.getFrame(),b.listenTo(a,"all",function(c,d){b.trigger("frame:"+c,d,a)}),b.trigger("change:frame",a),b.frame.load(function(){b.setState("LOADED"),b.trigger("frameLoaded",a)}),b.trigger("afterInit")},destroy:function(){var a=this.frame;a&&(this.stopListening(a),a.destroy()),this.setState("KILLED"),this.frame=null,e.prototype.destroy.call(this)},events:{"frame:ready":function(){this.setState("READY")}}},{states:{INIT:0,LOADED:1,READY:2,RUNNING:3,KILLED:4}});c(f,d);var g=f.extend({getUrl:function(){var b=this.settings,c=f.prototype.getUrl.call(this),d={f:b.forum,t_i:b.identifier,t_u:b.url||a.location.href,t_s:b.slug,t_e:b.title,t_d:b.documentTitle,t_t:b.title||b.documentTitle,t_c:b.category,s_o:b.sortOrder,l:b.language};return b.unsupported&&(d.n_s=b.unsupported),DISQUS.serialize(c,d)},getFrameSettings:function(a){return a.role="complementary",a},getFrameInitParams:function(b,c){var d=this.settings,d={permalink:d.permalink,anchorColor:d.anchorColor,referrer:a.location.href,colorScheme:d.colorScheme,typeface:d.typeface,remoteAuthS3:d.remoteAuthS3,apiKey:d.apiKey,sso:d.sso,parentWindowHash:a.location.hash,forceAutoStyles:d.forceAutoStyles};return c.elem&&a.navigator.userAgent.match(/(iPad|iPhone|iPod)/)&&(d.width=c.elem.offsetWidth),d},events:{afterInit:function(){this.trigger("loading.start")},frameLoaded:function(a){var b=a.elem;this.settings.unsupported?(a.setInlineStyle("height","500px"),b.setAttribute("scrolling","yes"),b.setAttribute("horizontalscrolling","no"),b.setAttribute("verticalscrolling","yes"),a.show()):this.settings.windowName||(b.setAttribute("scrolling","no"),b.setAttribute("horizontalscrolling","no"),b.setAttribute("verticalscrolling","no"))},"frame:ready":function(a,b){var c=this.getFrameInitParams(a,b);b.sendMessage("init",c),this.trigger("loading.init")},"frame:resize":function(a,b){b.elem&&this.rendered&&(b.setInlineStyle("height",a.height+"px"),b.sendMessage("embed.resized"))},"frame:mainViewRendered":function(a,b){this.rendered=!0,b.trigger("resize",a),b.sendMessage("embed.rendered"),this.trigger("loading.done")},"frame:fail":function(a,b){b.elem&&b.setInlineStyle("height","75px"),this.trigger("fail",a)}}});return{expose:function(a,b,c){DISQUS.each(b,function(b){c[b]=function(){return a[b].apply(a,arguments)}})},BaseApp:e,WindowedApp:f,ThreadBoundApp:g,PublicInterfaceMixin:d}}),DISQUS.define("next.host.profile",function(a){var b=DISQUS.next.host.app.WindowedApp,c=b.extend({urls:{insecure:"http://disqus.com/embed/profile/",secure:"https://disqus.com/embed/profile/"},events:{beforeInit:function(){var a=this.settings;a.fullscreen=a.fullscreen!==!1},afterInit:function(){this.trigger("loading.start")},"frame:ready":function(b,c){var d=this.settings;c.sendMessage("init",{referrer:a.location.href,fullscreen:d.fullscreen,forumId:d.forumId,threadId:d.threadId,forumPk:d.forumPk}),this.trigger("loading.init")},"frame:close":function(b,c){c.hide(),a.focus()},"frame:renderProfile":function(a){this.trigger("renderProfile",a)}},getUrl:function(){var a=this.settings,c=b.prototype.getUrl.call(this);return DISQUS.serialize(c,{f:a.forum,l:a.language})},getFrameSettings:function(a){var b=this.settings.fullscreen;return a.role="dialog",a.styles=b?{height:"100%",position:"fixed",top:0,left:0,"z-index":999999}:{height:"100%",padding:0},a},show:function(a){DISQUS.isString(a)&&(a={username:a});var b=this.frame;return b.isReady()?(b.sendMessage("showProfile",a),b.show(),void 0):void this.once("frame:ready",function(){this.show(a)},this)}});return{Profile:function(a){return new c(a)},_ProfileApp:c}}),DISQUS.define("next.host.backplane",function(){var a;try{localStorage.setItem("disqus.localStorageTest","disqus"),localStorage.removeItem("disqus.localStorageTest"),a=!0}catch(b){a=!1}var c=function(b){this.frame=b,this.credentials="unset";var c=this;"function"==typeof Backplane&&"string"==typeof Backplane.version&&"function"==typeof Backplane.subscribe&&a&&Backplane(function(){c.initialize()})};return DISQUS.extend(c.prototype,{frameEvents:{invalidate:"clearCredentials"},initialize:function(){var a=this;DISQUS.each(this.frameEvents,function(b,c){a.frame.on("backplane."+c,"function"==typeof b?b:a[b],a)}),this.credentialsFromLocalStorage()&&this.frame.sendMessage("login",{backplane:this.credentials}),this.subscribe()},subscribe:function(){var a=this;Backplane.subscribe(function(b){var c=a.handlers[b.type];c&&c.call(a,b)})},handlers:{"identity/login":function(a){var b=a.messageURL,a=a.channel;"unset"!==this.credentials&&null!==this.credentials&&this.credentials.channel===a&&this.credentials.messageUrl===b||(this.setCredentials(a,b),this.frame.sendMessage("login",{backplane:this.getCredentials()}))}},credentialsFromLocalStorage:function(){var a=localStorage.getItem("disqus.backplane.channel"),b=localStorage.getItem("disqus.backplane.messageUrl");return this.setCredentials(a,b,!0),this.credentials},setCredentials:function(a,b,c){return a&&b?(c||(localStorage.setItem("disqus.backplane.channel",a),localStorage.setItem("disqus.backplane.messageUrl",b)),this.credentials={channel:a,messageUrl:b},void 0):void this.clearCredentials()},getCredentials:function(){return"unset"!==this.credentials?this.credentials:this.credentialsFromLocalStorage()},clearCredentials:function(a){a=a||{},this.credentials=null,localStorage.removeItem("disqus.backplane.channel"),localStorage.removeItem("disqus.backplane.messageUrl"),a.redirectUrl&&(window.location=a.redirectUrl)}}),{BackplaneIntegration:c}}),DISQUS.define("next.host.lounge",function(a){var b=a.document,c=DISQUS.next.host,d=c.app.ThreadBoundApp,e=b.documentElement,f=d.extend({indicators:null,wasInViewport:!1,wasNearViewport:!1,triggeredSlowEvent:!1,urls:{insecure:"http://disqus.com/embed/comments/",secure:"https://disqus.com/embed/comments/"},events:{beforeInit:function(){var a=this.settings,b=!a.windowName;a.unsupported||(this.indicators={},b&&(this.addLoadingAnim(),this.configureScrollEvent(),this.listenTo(DISQUS,"window.resize",this.throttledCommunicateViewportAndScrollStatus)),this.bindPublisherCallbacks(),this.forwardGlobalEvents())},"frame:resize":function(){this.communicateViewportAndScrollStatus()},"frame:reload":function(){a.location.reload()},"frame:reset":function(){DISQUS.reset({reload:!0})},"frame:session.identify":function(a){this.trigger("session.identify",a)},"frame:posts.paginate":function(){this.trigger("posts.paginate")},"frame:posts.create":function(a){this.trigger("posts.create",{id:a.id,text:a.raw_message})},"frame:profile.show":function(a){this.showProfile(a)},"frame:realtime.init":function(a,b){if(b.getOffset){var c,d,e=["north","south"];d=b.getOffset().width+"px";for(var f={width:d,minWidth:d,maxWidth:d,position:"fixed"},g={north:{top:"0"},south:{bottom:"0"}},h=0;h<e.length;h++)d=e[h],c=new DISQUS.Sandbox({uid:"-indicator-"+d,container:this.settings.container,contents:a[d].contents,styles:DISQUS.extend(g[d],f),role:"alert"}),c.load(),c.hide(),function(a){c.click(function(){b.sendMessage("realtime.click",a)})}(d),this.indicators[d]=c;this.on({"frame:realtime.showNorth":function(a){var b=this.indicators.north;b.document.getElementById("message").innerHTML=a,b.show()},"frame:realtime.hideNorth":function(){this.indicators.north.hide()},"frame:realtime.showSouth":function(a){var b=this.indicators.south;b.document.getElementById("message").innerHTML=a,b.show()},"frame:realtime.hideSouth":function(){this.indicators.south.hide()}},this)}},"frame:scrollTo":function(c,d){if(d.elem&&d.getOffset){var e=d.getOffset(),e="window"===c.relative?c.top:e.top+c.top,f=this.getViewportCoords();!c.force&&e>f.pageYOffset&&e<f.pageYOffset+f.innerHeight||(this.scrollContainer===b.documentElement?a.scrollTo(0,e):this.scrollContainer.scrollTop=e)}},"fail loading.done":function(){this.removeLoadingAnim()},fail:function(a){c.utils.logStat("failed_embed.server."+a.code)},"loading.done":function(){this.setState("RUNNING"),this.triggeredSlowEvent&&c.utils.logStat("rendered_embed.slow")}},onceEvents:{"frame:loadLinkAffiliator":function(b,c){if(!a.vglnk_self&&!a.vglnk&&!function(){for(var b in a)if(0===b.indexOf("skimlinks")||0===b.indexOf("skimwords"))return!0;return!1}()){var d=b.apiUrl,e=b.key,f=String(b.id);null!=b.clientUrl&&null!=d&&null!=e&&null!=b.id&&(DISQUS.define("vglnk",function(){return{api_url:d,key:e,sub_id:f}}),a.vglnk_self="DISQUS.vglnk",DISQUS.require(b.clientUrl),DISQUS.defer(function(){return DISQUS.vglnk.opt},function(){c.sendMessage("affiliationOptions",{timeout:DISQUS.vglnk.opt("click_timeout")})}),this.listenForAffiliationRequests(d,e,f))}},"frame:loadBackplane":function(a,b){this.backplane=new DISQUS.next.host.backplane.BackplaneIntegration(b)}},showProfile:function(a){var b=this.settings,d=this.profile;d&&(d.frame.windowName||d.frame.isKilled())&&(d.destroy(),d=null),d||(d=this.profile=c.profile.Profile({windowName:a.windowName,language:b.language,useSSL:b.useSSL,forum:b.forum,forumId:a.forumId,threadId:a.threadId,forumPk:a.forumPk}),d.init()),d.show({id:a.userId})},getFrameInitParams:function(a,b){var c=d.prototype.getFrameInitParams.call(this,a,b);return c.initialPosition=this.getViewportAndScrollStatus(),c},configureScrollEvent:function(){var a=this.scrollContainer=this.getScrollContainer();a===e?this.listenTo(DISQUS,"window.scroll",this.communicateViewportAndScrollStatus):DISQUS.addEvent(a,"scroll",this.throttledCommunicateViewportAndScrollStatus)},getScrollContainer:function(){if(!this.settings.enableScrollContainer)return e;for(var a=this.settings.container;a.parentNode&&a!==e;){var a=a.parentNode,b=c.utils.getComputedStyle(a,"overflow-y","overflowY");if("scroll"===b||"auto"===b)break}return a},listenForAffiliationRequests:function(a,b,c){var d=this.frame;this.on("frame:affiliateLink",function(e){var f=DISQUS.vglnk.$;return f?(f.request(a+"/click",{format:"jsonp",out:e.url,key:b,loc:d.target,subId:c},{fn:function(a){return function(b){var c={token:a};b&&(c.url=b),d.sendMessage("affiliateLink",c)}}(e.token),timeout:DISQUS.vglnk.opt("click_timeout")}),void 0):void d.sendMessage("affiliateLink")})},forwardGlobalEvents:function(){var a=this;a.settings.windowName||(a.listenTo(DISQUS,"window.resize",function(){a.frame.sendMessage("window.resize")}),a.listenTo(DISQUS,"window.click",function(){a.frame.sendMessage("window.click")})),a.listenTo(DISQUS,"window.hashchange",function(b){a.frame.sendMessage("window.hashchange",b.hash)})},bindPublisherCallbacks:function(){var a=this,b=f.LEGACY_EVENTS_MAPPING,c=a.settings.callbacks;c&&DISQUS.each(c,function(c,d){b[d]&&DISQUS.each(c,function(c){a.on(b[d],c)})})},addLoadingAnim:function(){var a,d,e,f=this,g=f.settings.container;if(!f.loadingElem){var h=b.createElement("style");h.type="text/css",h.styleSheet?h.styleSheet.cssText=".disqus-loader{animation:disqus-embed-spinner .7s infinite linear;-webkit-animation:disqus-embed-spinner .7s infinite linear}@keyframes disqus-embed-spinner{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@-webkit-keyframes disqus-embed-spinner{0%{-webkit-transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg)}}":h.appendChild(b.createTextNode(".disqus-loader{animation:disqus-embed-spinner .7s infinite linear;-webkit-animation:disqus-embed-spinner .7s infinite linear}@keyframes disqus-embed-spinner{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@-webkit-keyframes disqus-embed-spinner{0%{-webkit-transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg)}}")),a=b.createElement("div"),d=b.createElement("div"),e=b.createElement("div"),d.appendChild(h),d.appendChild(e),a.appendChild(d),a.dir="ltr",a.style.overflow="hidden",d.style.height=d.style.width="54px",d.style.margin="0 auto",d.style.overflow="hidden",e.style.height=e.style.width="29px",e.style.margin="11px 14px",e.className="disqus-loader",e.style.backgroundImage=d.style.backgroundImage="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFMAAABmCAMAAACA210sAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjEwMPRyoQAAAlhQTFRFMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtMzY63+TtWDj2BwAAAMh0Uk5TAAABAQICAwMEBAUFBgYHBwgICQkKCgsLDAwNDQ4ODw8QEBEREhITExQUFRUWFhcXGBgZGRoaGxscHB0dHh4fHyAgISEjIyQkJSUmJigoKSkqKisrLCwtLS4uLy8wMDExMjIzMzQ0NTU2Njc3ODg5OTo6Ozs8PD09Pj4/P0BAQUFCQkNDRERFRUZGR0dISElJS0tMTE1NTk5PT1BQUVFSUlNTVFRVVVZWV1dYWFlZWlpbW1xcXV1eXl9fYGBhYWJiY2NkZGVlZmaMInkiAAAFVklEQVRo3u2Yf0hbVxTHP/flmYYQxFoXghMJzkpXQmszCd0ma7eKKyKuSOlKGaV0RaRzsIHIGDK2MqSsXVvKcKWIG6V0ItI5Z1tXZBsiIkWciC0iYsMIIbisC1mWhpDG/RFjfpvr4O2vnH+Se+/J575z3z3n5n4F2Uy12aotpUY1HFp1OecXo+S00vo6q9kYXF2ZnfLG+0QWYH2jw5jcEZi6P50dW33qoBL//sl4TqbpyPHSzB97bo2GMjr1bcfUjcbcWXIwlZb24uxBenvH0sM+b0s0om2PAJPBC+hS3KxfvrUtx8IZD+z9LZDcUfL1zqTWj98DtLVP/JP2nIc74+vonplfWQ2EDcZya22deb3T1zOZtOq9saf0jMy6vSarywdU3tAvdIRTmGdOxz5Dd8cWkqeyNzXG1i16ZWijs+MEQPjaUCTh+EU9DFxNZna2AhAZvPUkPXDLqebY++3rj7/xfhXwfTyX5LX/EhA9tZxYz/bjACx0/vQ0YzEDk9O27QD2vx/Gej6oBiKdcylub24DsWN8g9ncAcDAp39mfUV/jJp3Aux//Big9CMF+Go8xcfveR14/k6cuatHB0Qvf5MrZ55NiH0Ajl/8wKEDgOezNOeVV8tAca8z9Zd3AFy4nTsLmRX7AP2Ld9bgxAvA4Ey6S9HLwNP11HrHCnBjmM2sbwTA1gJUAWQgmQKwxpiWkwAz19ncriwBtJugDMCZ4eAOAeYY84QeCPZE8zBDn0eA4qOgAvgzPQKASQEobQbo85DPlgcBjhkIA2SpNSVAQAFoMADeYfLbzSBQ8hpPACwZw2YV8CoATQCDIQmmbwTgMCsA9oxhO4BTASw1QGQMGRsBqDPNADSr6aPNADNKnD7rlWI6lwG1bioCVDSlDb5iB6ITClAL8AA5mwbY9eTXjaRPWs1ugEmvEt/AjySZjwCs9EcAQ3tK8bpUAkT7UYBKgGVJphOgAucAwI2kgfq+KoChJVRQTYA/IMl0AZTB9Vob9+cBSn1RxeJorAVg6RqoYIwngJRFQgYwQqSr19ILUH6LkCl+Iru6QglmEGkosdT0nXWsApzVo4+PLXZ5Y6NBWAdLmbrOxXcfoO6NxHk81BsmiVksjTSkRKV0bBAnvl3amDXiLwZTsV+OWQmQyA/9UF2V2Rj0OmcnvMmROPcAVXNbYLoS5W90NMNFAX4HsEnGvjt7NU5nLgA4JJn78yedEj9XasukkDXVQGQ2L9O9DKhNUswmgJlAXiZjAEdUCWRJC8Bd8jP9AOGIBPOkAfBNSjBbAW7LrOZRgIFQfubuXUBI4uwwdKuAL9/sCnAE4GeJPIrV9WuB/MziBgCJk7i9BWB+VKLKHDYAiwuo5RUW9/QmyJMAgXNRCWYrgP5qhVmBQHeus87Y1QhAjztvPDocbwNsLzcJQN+oPsy6p2wXXgLg4j0kmO9Zk9ui9tBfzrV0r/L3P9wOwPXvJHacKLudkT/O4fHkW4Jib2pYv3dclPlPhTh9Jl6nPW7vQcP698W5RddqMGQyVpbb7fHqEjg3KVUTxLA56Ha7XB63OwKV3ZuU0QfnPXLlUOxxpcTZ0laS4755dVz2yMq4Fxtbj2WppO6bd8P8Zyao9Q0OU8q9Z3p8Koq8CZF1h9lqaixlRn0w5HWtLCytsSVTc8y0rahIpxNFz3S6Ip1Y26J2ITTQLoQG2oXQQLsQGmgXQgPtQmigXQgNtAuhgXYhNNAuhAbahShoFwXtoqBdFLSLgnZR0C4K2kVBuyhoFwXtIofOIDTQLoQG2sVzGmgX72qgXfyggXaxVwPtQmigXYj/S7tQU7WLrQCBfwFnft8xK3413wAAAABJRU5ErkJggg==)",e.style.backgroundRepeat=d.style.backgroundRepeat="no-repeat",e.style.backgroundPosition="-54px 0","dark"===f.settings.colorScheme&&(d.style.backgroundPosition="0 -51px",e.style.backgroundPosition="-54px -51px"),g.appendChild(a),f.loadingElem=a,f.timeout=setTimeout(function(){a&&(f.triggeredSlowEvent=!0,f.state===f.constructor.states.READY?c.utils.logStat("slow_embed.got_ready"):f.state===f.constructor.states.LOADED?c.utils.logStat("slow_embed.loaded"):c.utils.logStat("slow_embed.no_ready"),d.insertAdjacentHTML("afterend",'<p align="center">Disqus seems to be taking longer than usual. <a href="#" onclick="DISQUS.reset({reload: true}); return false;">Reload</a>?</p>'))
},15e3)}},removeLoadingAnim:function(){var a=this.loadingElem,b=this.settings.container;this.timeout&&(clearTimeout(this.timeout),this.timeout=null),a&&a.parentNode===b&&(b.removeChild(a),this.loadingElem=null)},destroy:function(){var a=this.indicators;this.removeLoadingAnim(),this.profile&&this.profile.destroy(),a&&a.north&&(a.north.destroy(),a.north=null),a&&a.south&&(a.south.destroy(),a.south=null),d.prototype.destroy.call(this)},getViewportCoords:function(){return this.scrollContainer===e?this.getWindowCoords():this.getScrollContainerCoords()},getWindowCoords:function(){if("number"==typeof a.pageYOffset)this.getWindowScroll=function(){return a.pageYOffset},this.getWindowHeight=function(){return a.innerHeight};else{var b=a.document,b=b.documentElement.clientHeight||b.documentElement.clientWidth?b.documentElement:b.body;this.getWindowScroll=function(){return b.scrollTop},this.getWindowHeight=function(){return b.clientHeight}}return this.getWindowCoords=function(){return{top:this.getWindowScroll(),height:this.getWindowHeight()}},this.getWindowCoords()},getScrollContainerCoords:function(){var a=this.scrollContainer;return{top:a.scrollTop,height:a.clientHeight}},getViewportAndScrollStatus:function(){var a=this.frame;if(!a||!a.getOffset)return null;var b=this.getViewportCoords();return{frameOffset:a.getOffset(this.scrollContainer),pageOffset:b.top,height:b.height}},throttledCommunicateViewportAndScrollStatus:DISQUS.throttle(function(){this.communicateViewportAndScrollStatus()},250,50),communicateViewportAndScrollStatus:function(){var a=this.getViewportAndScrollStatus();if(a){var b=a.frameOffset,c=b.top,d=c+b.height,e=a.pageOffset,f=a.height,g=e+f,h=b=!1;g+f>=c&&(h=(b=d>=e)&&g>=c),c=this.frame,b&&(c.sendMessage("window.scroll",a),this.wasNearViewport||c.sendMessage("window.nearViewport")),this.wasNearViewport=b,h!==this.wasInViewport&&(c.sendMessage(h?"window.inViewport":"window.scrollOffViewport"),this.wasInViewport=h)}}},{LEGACY_EVENTS_MAPPING:{onReady:"loading.done",onNewComment:"posts.create",onPaginate:"posts.paginate",onIdentify:"session.identify"}}),g=function(a){return new f(a)};return c.app.expose(f,["list","listByKey","get"],g),{Lounge:g}}),DISQUS.define("next.host.ignition",function(){var a=DISQUS.next.host,b=a.lounge.Lounge,c=a.app.ThreadBoundApp.extend({urls:{insecure:"http://disqus.com/embed/ignition/",secure:"https://disqus.com/embed/ignition/"},events:{afterInit:function(){var a=this;if(-1!==navigator.userAgent.indexOf("CriOS")){var b=a.overlay=document.createElement("div");b.style.cssText="display: block !important;position: relative !important;padding: 0 !important;margin; 0 !important;width: 100% !important;opacity: 0 !important;height: 0 !important;z-index: 1 !important;cursor: pointer !important",b.addEventListener("click",function(){a.trigger("frame:ignite",{windowName:"disqus_"+DISQUS.getUid()+"_"+(new Date).getTime()})},!1),a.on("frame:resize",function(b){var c=a.overlay;c.style.setProperty("height",b.height+"px","important"),c.style.setProperty("margin-top","-"+b.height+"px","important")},a),a.frame.elem.parentNode.appendChild(b)}},"frame:ignite":function(a){var c=this.lounge;c&&!c.frame.isKilled()&&c.destroy(),a=DISQUS.extend({windowName:a.windowName},this.settings),this.lounge=c=b(a),c.init()}}});return{Ignition:function(a){return new c(a)}}}),DISQUS.define("next.host.config",function(a,b){var c=DISQUS.use("next.host.utils"),d=function(a,c){this.win=a,this.configurator=c,this.config={page:{url:b,title:b,slug:b,category_id:b,identifier:b,language:b,api_key:b,remote_auth_s3:b,author_s3:b},experiment:{enable_scroll_container:b,force_auto_styles:b},strings:b,sso:{},callbacks:{preData:[],preInit:[],onInit:[],afterRender:[],onReady:[],onNewComment:[],preReset:[],onPaginate:[],onIdentify:[]}}};d.DISQUS_GLOBALS=["shortname","identifier","url","title","category_id","slug"];var e=d.prototype;return e.getContainer=function(){var a=this.win;return a.document.getElementById(a.disqus_container_id||"disqus_thread")},e.runConfigurator=function(){var a=this.configurator||this.win.disqus_config;if("function"==typeof a)try{a.call(this.config)}catch(b){}},e.getValuesFromGlobals=function(){var a,b=this.win,e=this.config,f=e.page;DISQUS.each(d.DISQUS_GLOBALS,function(a){var c=b["disqus_"+a];"undefined"!=typeof c&&(f[a]=c)}),this.runConfigurator(),e.forum||(a=f.shortname,e.forum=a?a.toLowerCase():c.getForum(b.document))},e.toJSON=function(){var a=this.win,b=this.config,d=b.page,e=this.getContainer();return this.getValuesFromGlobals(),{container:e,forum:b.forum,sortOrder:"default",permalink:c.getPermalink(),useSSL:c.isSSL(a.location.protocol),language:b.language,typeface:c.isSerif(e)?"serif":"sans-serif",anchorColor:c.getAnchorColor(e),colorScheme:128<c.getContrastYIQ(c.getElementStyle(e,"span","color"))?"dark":"light",url:d.url||a.location.href.replace(/#.*$/,""),title:d.title,documentTitle:c.guessThreadTitle(),slug:d.slug,category:d.category_id,identifier:d.identifier,apiKey:d.api_key,remoteAuthS3:d.remote_auth_s3,sso:b.sso,unsupported:c.getBrowserSupport(a),callbacks:b.callbacks,enableScrollContainer:b.experiment.enable_scroll_container,forceAutoStyles:b.experiment.force_auto_styles}},{HostConfig:d}}),DISQUS.define("next.host.loader",function(a){var b,c=DISQUS.use("next.host.loader"),d=DISQUS.use("next.host"),e=new d.config.HostConfig(a),f=!1,g=function(){var b,c=a.document;if(c.getElementsByClassName){if("complete"!==c.readyState)return DISQUS.addEvent(a,"load",g);b=(c=c.getElementsByClassName("dsq-brlink"))&&c.length&&c[0],(c=b)&&c.parentNode.removeChild(c)}};return{configAdapter:e,shouldUseIgnition:function(a,b){return!b.unsupported&&a.disqus_ignition},removeDisqusLink:g,loadEmbed:function(g){return e.configurator=g,g=e.toJSON(),f||(g.container.innerHTML="",f=!0),b=c.shouldUseIgnition(a,g)?d.ignition.Ignition(g):d.lounge.Lounge(g),b.init(),c.removeDisqusLink(),b},reset:function(a){a=a||{},b&&(b.triggeredSlowEvent&&b.state!==b.constructor.states.RUNNING&&d.utils.logStat("reset_embed.slow"),b.destroy(),b=null),a.reload&&c.loadEmbed(a.config)}}}),function(){DISQUS.reset=DISQUS.next.host.loader.reset,DISQUS.request={get:function(a,b,c){DISQUS.require(a,b,c)}}}(),DISQUS.next.host.loader.loadEmbed();